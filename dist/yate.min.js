(function(b,e){"object"===typeof module&&module.exports?module.exports=e:b.yate=e})(this,function(b){var e=Object.hasOwnProperty.bind(b);return{on:function(a,f,c){e(a)||(b[a]={handlers:[]});b[a].onlyOnce=!1;return this.once(a,f,c)},off:function(a){return"string"===typeof a&&e(a)?delete b[a]:a&&"object"===typeof a?b[a.event].handlers.splice(a.handler,1)[0]:!1},once:function(a,f,c){e(a)||(b[a]={handlers:[],onlyOnce:!0});var d=b[a].handlers.findIndex(function(a){return a.callback===f&&a.context===c});
return-1===d?(d=b[a].handlers.push({callback:f,context:c}),{event:a,handler:d-1}):{event:a,handler:d}},emit:function(){arguments=Array.from(arguments);if(arguments.length){var a=arguments[0],f=arguments.slice(1);if("string"===typeof a&&e(a)){for(var c=b[a].handlers,d=0,g=c.length;d<g;d++)c[d].callback.apply(c[d].context,f);b[a].onlyOnce&&this.off(a)}a&&"object"===typeof a&&(c=b[a.event].handlers[a.handler],c.callback.apply(c.context,f),b[a.event].onlyOnce&&this.off(a))}}}}({}));